import{b as p,j as e,L as l,B as c}from"./index-Dn45rCbr.js";import{f as j,g as b}from"./productsApiSlice-C1zCf8O4.js";import{b as N,c as f}from"./index-Va4Lcz8a.js";import"./iconBase-wTF-khsr.js";const P=()=>{const{userInfo:a}=p(r=>r.auth),{data:d,isLoading:t,isError:n,error:i,refetch:h}=j(a._id),[m,{isLoading:x}]=b(),u=async r=>{var o;if(window.confirm("Are you sure you want to delete the product?"))try{await m(r).unwrap(),h(),c.success("Product deleted")}catch(s){c.error(((o=s==null?void 0:s.data)==null?void 0:o.message)||s.error)}};return e.jsxs("div",{className:"py-14 flex flex-col items-center w-[75%] md:w-full",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Your Products"}),t&&e.jsx("p",{className:"text-lg font-semibold",children:"Loading your products..."}),x&&e.jsx("p",{className:"text-lg font-semibold",children:"Deleting product..."}),n&&e.jsx("p",{children:i.message}),e.jsxs("table",{className:"w-5/6 bg-gray-50 border border-collapse mt-4 md:w-full md:text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border p-2",children:"NAME"}),e.jsx("th",{className:"border p-2",children:"IMAGE"}),e.jsx("th",{className:"border p-2 sm:hidden",children:"SELLING PRICE"}),e.jsx("th",{className:"border p-2 md:hidden",children:"PRIMARY CATEGORY"}),e.jsx("th",{className:"border p-2 md:hidden",children:"BRAND"})]})}),e.jsx("tbody",{children:d&&d.length>0?d.map(r=>e.jsxs("tr",{children:[e.jsx("td",{className:"border p-2 overflow-hidden whitespace-nowrap text-ellipsis w-auto hover:underline hover:text-blue-800",children:e.jsx(l,{to:`/product/${r._id}`,children:r.name})}),e.jsx("td",{className:"border p-2",children:e.jsx("img",{className:"w-10 h-10",src:r.image1,alt:"item"})}),e.jsxs("td",{className:"border p-2 sm:hidden",children:["Rs. ",r.sellingPrice]}),e.jsx("td",{className:"border p-2 md:hidden",children:r.primaryCategory}),e.jsx("td",{className:"border p-2 md:hidden",children:r.brand}),e.jsxs("td",{className:"border py-2 pl-6 pr-0 ",children:[e.jsx(l,{to:`/vendor/product/${r._id}/edit`,children:e.jsx("button",{className:"mr-4 sm:mr-1",children:e.jsx(N,{color:"blue"})})}),e.jsx("button",{className:"ml-4 sm:ml-1",onClick:()=>u(r._id),children:e.jsx(f,{style:{color:"red"}})})]})]},r._id)):!t&&e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center p-4",children:"No products found."})})})]})]})};export{P as default};
