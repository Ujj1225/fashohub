import{r as a,d as v,a as U,j as e,B as f}from"./index-Dn45rCbr.js";import{h as k,i as E}from"./userApiSlice-BcONqH5P.js";const C=()=>{var h;const[d,c]=a.useState(""),[r,i]=a.useState(),[o,m]=a.useState(),[x,u]=a.useState(),{uid:p}=v(),j=U(),{data:t,isLoading:w,error:n,refetch:g}=k(p),[N,{isLoading:b}]=E();a.useEffect(()=>{t&&(c(t.name),i(t.isAdmin),m(t.isVendor),u(t.isDeliveryPartner))},[t]);const y=async()=>{var s;try{await N({uid:p,name:d,isAdmin:r,isVendor:o,isDeliveryPartner:x}),f.success("User updated successfully"),g(),j("/admin/manage-users")}catch(l){f.error(((s=l==null?void 0:l.data)==null?void 0:s.message)||l.error)}};return e.jsx(e.Fragment,{children:w?e.jsx("p",{className:"font-bold text-center mt-4",children:"Loading user details..."}):n?e.jsx("p",{className:"font-bold text-center mt-4",children:(h=n==null?void 0:n.data)==null?void 0:h.message}):e.jsxs("div",{className:"py-14 px-2 flex flex-col items-center w-full",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Edit User"}),e.jsxs("div",{className:"mt-1 w-1/3 sm:w-3/4 xsm:w-full",children:[e.jsx("p",{className:"font-bold",children:"User ID"}),e.jsx("input",{type:"text",value:t._id,disabled:!0,className:"border px-2 py-1 rounded w-full"})]}),e.jsxs("div",{className:"mt-2 w-1/3 sm:w-3/4 xsm:w-full",children:[e.jsx("p",{className:"font-bold",children:"Name"}),e.jsx("input",{type:"text",value:d,onChange:s=>c(s.target.value),className:"border px-2 py-1 rounded w-full"})]}),e.jsxs("div",{className:"mt-1 w-1/3 sm:w-3/4 xsm:w-full",children:[e.jsx("p",{className:"font-bold",children:"Phone"}),e.jsx("input",{type:"text",value:t.phone,disabled:!0,className:"border px-2 py-1 rounded w-full"})]}),e.jsxs("div",{className:"flex gap-x-1 mt-1 w-1/3 sm:w-3/4 xsm:w-full",children:[e.jsx("p",{className:"font-bold",children:"isAdmin"}),e.jsx("input",{type:"checkbox",checked:r,onChange:s=>i(s.target.checked)})]}),e.jsxs("div",{className:"flex gap-x-1 mt-1 w-1/3 sm:w-3/4 xsm:w-full",children:[e.jsx("p",{className:"font-bold",children:"isVendor"}),e.jsx("input",{type:"checkbox",checked:o,onChange:s=>m(s.target.checked)})]}),e.jsxs("div",{className:"flex gap-x-1 mt-1 w-1/3 sm:w-3/4 xsm:w-full",children:[e.jsx("p",{className:"font-bold",children:"isDeliveryPartner"}),e.jsx("input",{type:"checkbox",checked:x,onChange:s=>u(s.target.checked)})]}),e.jsx("button",{className:"mt-2 bg-[#FF3E6B] px-8 py-2 rounded text-white font-bold",onClick:y,children:b?"Updating...":"Update"})]})})};export{C as default};
