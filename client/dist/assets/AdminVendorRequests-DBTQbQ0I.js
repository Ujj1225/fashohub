import{j as e,L as i,B as n}from"./index-Dn45rCbr.js";import{d as j,e as u}from"./vendorApiSlice-BCrYRZwa.js";import{f}from"./index-CoOEonn4.js";import{c as b}from"./index-Va4Lcz8a.js";import{S as t}from"./Skeleton-9Y7E4ClX.js";import"./iconBase-wTF-khsr.js";const v=()=>{var a;const{data:c,isLoading:m,error:r,refetch:h}=j(),[x,{isLoading:d}]=u(),p=async s=>{var o;if(window.confirm("Are you sure you want to delete the request?"))try{await x(s).unwrap(),h(),n.success("Request deleted")}catch(l){n.error(((o=l==null?void 0:l.data)==null?void 0:o.message)||l.error)}};return e.jsxs("div",{className:"py-14 flex flex-col items-center w-[75%] md:w-full p-2",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Vendor Requests"}),d&&e.jsx("p",{className:"text-lg font-semibold",children:"Deleting request..."}),m?e.jsxs("div",{className:"flex flex-col gap-y-2 w-[75%] md:w-full",children:[e.jsx(t,{height:50}),e.jsx(t,{height:50}),e.jsx(t,{height:50}),e.jsx(t,{height:50}),e.jsx(t,{height:50})]}):r?e.jsx("p",{children:(a=r==null?void 0:r.data)==null?void 0:a.meesage}):e.jsxs("table",{className:"w-5/6 bg-gray-50 border border-collapse mt-4 md:w-full md:text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border p-2",children:"Name"}),e.jsx("th",{className:"border p-2",children:"Phone"})]})}),e.jsx("tbody",{children:c.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"border p-2 overflow-hidden whitespace-nowrap text-ellipsis w-auto hover:underline hover:text-blue-800",children:e.jsx(i,{to:`/admin/request/${s._id}/edit`,children:s.name})}),e.jsx("td",{className:"border p-2",children:s.phone}),e.jsxs("td",{className:"border py-2 pl-6 pr-0 ",children:[e.jsx(i,{to:`/admin/request/${s._id}/edit`,children:e.jsx("button",{className:"mr-4 sm:mr-1 border p-1 rounded bg-green-600",children:e.jsx(f,{color:"white"})})}),e.jsx("button",{className:"ml-4 sm:ml-1",onClick:()=>p(s._id),disabled:d,children:e.jsx(b,{style:{color:"red"}})})]})]},s._id))})]})]})};export{v as default};
