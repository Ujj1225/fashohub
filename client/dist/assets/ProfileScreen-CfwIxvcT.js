import{r as l,j as e,L as o,B as n}from"./index-Dn45rCbr.js";import{d as w,e as v}from"./userApiSlice-BcONqH5P.js";import N from"./UserOrders-Dl3Tzwr8.js";import P from"./Footer-0xH4IW5j.js";import{S as U}from"./Skeleton-9Y7E4ClX.js";import{D as S}from"./Divider-Dc33vHdl.js";import"./orderApiSlice-B-AJ7Rxk.js";import"./index-Va4Lcz8a.js";import"./iconBase-wTF-khsr.js";const B=()=>{var f;const[i,c]=l.useState(""),[d,x]=l.useState(""),[m,u]=l.useState(""),{data:r,isLoading:b,error:a,refetch:g}=w();l.useEffect(()=>{r&&c(r.name)},[r]);const[h,{isLoading:y}]=v(),j=async s=>{var p;if(s.preventDefault(),d!==m)n.error("Passwords do not match");else try{const t=await h({name:i,password:d}).unwrap();n.success("Profile updated successfully!"),g(),x(""),u("")}catch(t){n.error(((p=t==null?void 0:t.data)==null?void 0:p.message)||(t==null?void 0:t.error))}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-10 flex gap-x-4 sm:flex-col sm:gap-y-8 xsm:p-2",children:[e.jsxs("div",{className:"w-fit sm:mx-auto sm:w-full",children:[e.jsx("h2",{className:"font-bold text-gray-500 mb-2 text-lg",children:"User Profile"}),b?e.jsx("div",{children:e.jsx(U,{height:500,width:"300px"})}):a?e.jsx("p",{children:((f=a==null?void 0:a.data)==null?void 0:f.message)||a.error}):e.jsxs(e.Fragment,{children:[e.jsxs("form",{className:"flex flex-col gap-y-4",onSubmit:j,children:[e.jsxs("div",{className:"flex flex-col gap-y-1",children:[e.jsx("label",{className:"font-bold text-gray-600",children:"Name"}),e.jsx("input",{type:"text",value:i,onChange:s=>c(s.target.value),className:"border border-black rounded w-80 px-2 py-1 lg:w-60 sm:w-full"})]}),e.jsxs("div",{className:"flex flex-col gap-y-1",children:[e.jsx("label",{className:"font-bold text-gray-600",children:"Phone Number"}),e.jsx("input",{type:"text",value:r.phone,className:"border border-black rounded w-80 px-2 py-1 bg-gray-100 lg:w-60 sm:w-full",disabled:!0})]}),e.jsxs("div",{className:"flex flex-col gap-y-1",children:[e.jsx("label",{className:"font-bold text-gray-600",children:"Password"}),e.jsx("input",{type:"password",value:d,onChange:s=>x(s.target.value),className:"border border-black rounded w-80 px-2 py-1 lg:w-60 sm:w-full"})]}),e.jsxs("div",{className:"flex flex-col gap-y-1",children:[e.jsx("label",{className:"font-bold text-gray-600",children:"Confirm Password"}),e.jsx("input",{type:"password",value:m,onChange:s=>u(s.target.value),className:"border border-black rounded w-80 px-2 py-1 lg:w-60 sm:w-full"})]}),e.jsx("button",{className:"bg-[#FF3E6B] hover:bg-[#f46486] rounded w-80 px-2 py-1 text-white font-bold text-center lg:w-60 sm:w-full",children:y?"Updating":"Update"})]}),!r.isVendor&&e.jsx(o,{to:`/${r._id}/vendor-request`,children:e.jsx("button",{className:"mt-3 text-center w-full border border-gray-400 text-sm font-bold text-gray-500 py-1 rounded hover:border-gray-900",children:"Request Vendorship"})}),r.isAdmin&&e.jsx(o,{to:"/admin",children:e.jsx("button",{className:"mt-3 text-center w-full border border-gray-400 text-sm font-bold text-gray-500 py-1 rounded hover:border-gray-900",children:"Admin Panel"})}),r.isVendor&&e.jsx(o,{to:"/vendor",children:e.jsx("button",{className:"mt-3 text-center w-full border border-gray-400 text-sm font-bold text-gray-500 py-1 rounded hover:border-gray-900",children:"Vendor Panel"})}),r.isDeliveryPartner&&e.jsx(o,{to:"/delivery-partner",children:e.jsx("button",{className:"mt-3 text-center w-full border border-gray-400 text-sm font-bold text-gray-500 py-1 rounded hover:border-gray-900",children:"Delivery Partner Panel"})})]})]}),e.jsx(S,{orientation:"vertical",className:"min-h-[50vh] sm:hidden"}),e.jsx(N,{})]}),e.jsx(P,{})]})};export{B as default};
