import{d as C,a as w,j as e,e as R,r,L as b}from"./index-Dn45rCbr.js";import{u as D}from"./productsApiSlice-C1zCf8O4.js";import{l as x,S as L,P as k,D as E,a as F}from"./PriceRangeFilter-CjPCELNG.js";import{S as T}from"./SkeletonProductCard-Bjfoeuia.js";import{c as H}from"./categoriesData-CWHIy4Sq.js";import U from"./Footer-0xH4IW5j.js";import{D as o}from"./Divider-Dc33vHdl.js";import"./use-resolved-styles-api-D8N6H6Ns.js";import"./Skeleton-9Y7E4ClX.js";import"./CloseButton-BFRpwHX3.js";import"./use-media-query-jqO5_DAj.js";import"./UnstyledButton-BWqOA1Vn.js";import"./embla-carousel-autoplay.esm-QaDXfp93.js";import"./create-safe-context-91HhculZ.js";import"./index-CWHWfCTA.js";import"./iconBase-wTF-khsr.js";import"./wishlistApiSlice-CuyAJLJs.js";import"./index-Va4Lcz8a.js";const O=()=>{const{primary:l}=C(),c=w(),t=Object.keys(H),p=s=>{const g=s.target.value;c(`/${g.replace(/ /g,"-").toLowerCase()}`)};return e.jsx("div",{className:"flex flex-col space-y-2 mt-4 gap-y-1 px-4",children:t.map(s=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"category",value:s,checked:l.toLowerCase()===s.replace(/ /g,"-").toLowerCase(),onChange:p,className:"form-radio text-blue-500"}),e.jsx("span",{className:"font-bold text-sm",children:s})]},s))})},se=()=>{var u,j,f;const[l,c]=R(),[t,p]=r.useState(l.get("sort")||"recommended"),[s,g]=r.useState(((u=l.get("discounts"))==null?void 0:u.split(","))||[]),[i,v]=r.useState(((j=l.get("priceRanges"))==null?void 0:j.split(","))||[]),{primary:m}=C(),{data:n,error:d,isLoading:h}=D({primary:m,sort:t,discounts:s.join(","),priceRanges:i.join(",")}),N=r.useCallback(x.debounce(a=>p(a),300),[]),P=r.useCallback(x.debounce(a=>{g(a)},300),[]),y=r.useCallback(x.debounce(a=>{v(a)},300),[]);return r.useEffect(()=>{const a=new URLSearchParams;t!=="recommended"&&a.set("sort",t),s.length>0&&a.set("discounts",s.join(",")),i.length>0&&a.set("priceRanges",i.join(",")),c(a)},[t,s,i,c]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"pb-4",children:[e.jsxs("div",{className:"p-4",children:[e.jsx(b,{to:"/",className:"text-sm font-normal hover:underline",children:"HOME"}),"  / ",e.jsx(b,{to:`/${m}`,className:"text-sm font-bold hover:underline",children:m.replace(/-/g," ").toUpperCase()}),e.jsxs("h2",{className:"font-bold mt-4",children:[m.replace(/-/g," ").toUpperCase()," -"," ",e.jsxs("span",{className:"text-gray-500 font-light mt-4",children:[n&&n.length," items"]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-6",children:[e.jsx("h2",{className:"font-bold",children:"FILTERS"}),e.jsx(L,{data:[{value:"recommended",label:"Recommended"},{value:"new",label:"What's New"},{value:"discount",label:"Better Discount"},{value:"rating",label:"Top Rated"},{value:"pl2h",label:"Price: Low To High"},{value:"ph2l",label:"Price: High To Low"}],defaultValue:t,allowDeselect:!1,onChange:N})]})]}),e.jsx(o,{}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"w-[15%] sm:hidden",children:[e.jsx(O,{}),e.jsx(o,{my:"lg"}),e.jsx(k,{selectedPriceRanges:i,onPriceRangeChange:y}),e.jsx(o,{my:"lg"}),e.jsx(E,{selectedDiscounts:s,onDiscountChange:P}),e.jsx(o,{mt:"lg"})]}),e.jsx(o,{className:"h-auto",orientation:"vertical"}),e.jsxs("div",{className:"w-[85%] sm:w-full",children:[h&&e.jsx("div",{className:"grid grid-cols-5 gap-y-8 p-5 xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 sm:p-3 sm:gap-x-4 xsm:grid-cols-1",children:Array.from({length:10}).map((a,S)=>e.jsx(T,{},S))}),d&&e.jsxs("p",{className:"text-xs font-semibold",children:["Error: ",(f=d==null?void 0:d.data)==null?void 0:f.message]}),e.jsx("div",{children:n&&n.length>0?e.jsx(F,{product:n}):!h&&e.jsx("p",{className:"text-center mt-4 border rounded px-20 font-bold bg-red-300 py-2 w-fit mx-auto mb-2",children:"No products found."})}),e.jsx(o,{})]})]})]}),e.jsx(U,{})]})};export{se as default};
