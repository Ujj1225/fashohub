import{j as s,n as C,t as D,v as B,c as _,L as $}from"./index-Dn45rCbr.js";import{c as L}from"./index-CWHWfCTA.js";import{a as w}from"./index-Va4Lcz8a.js";import{D as F}from"./Divider-Dc33vHdl.js";import{u as z}from"./use-resolved-styles-api-D8N6H6Ns.js";import{f as u,u as h,B as P,a as T,c as k,h as E,g as V}from"./Skeleton-9Y7E4ClX.js";import{c as G}from"./create-safe-context-91HhculZ.js";function I(t,l){return typeof t=="boolean"?t:l.autoContrast}const[M,S]=G("Progress.Root component was not found in tree");var p={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const W={},R=u((t,l)=>{const{classNames:r,className:e,style:a,styles:o,vars:g,...n}=h("ProgressLabel",W,t),i=S();return s.jsx(P,{ref:l,...i.getStyles("label",{className:e,style:a,classNames:r,styles:o}),...n})});R.classes=p;R.displayName="@mantine/core/ProgressLabel";const q={},H=k((t,{size:l,radius:r,transitionDuration:e})=>({root:{"--progress-size":E(l,"progress-size"),"--progress-radius":r===void 0?void 0:V(r),"--progress-transition-duration":typeof e=="number"?`${e}ms`:void 0}})),N=u((t,l)=>{const r=h("ProgressRoot",q,t),{classNames:e,className:a,style:o,styles:g,unstyled:n,vars:i,autoContrast:c,transitionDuration:v,...m}=r,d=T({name:"Progress",classes:p,props:r,className:a,style:o,classNames:e,styles:g,unstyled:n,vars:i,varsResolver:H});return s.jsx(M,{value:{getStyles:d,autoContrast:c},children:s.jsx(P,{ref:l,...d("root"),...m})})});N.classes=p;N.displayName="@mantine/core/ProgressRoot";const J={withAria:!0},f=u((t,l)=>{const{classNames:r,className:e,style:a,styles:o,vars:g,value:n,withAria:i,color:c,striped:v,animated:m,mod:d,...j}=h("ProgressSection",J,t),b=S(),y=C(),A=i?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":n,"aria-valuetext":`${n}%`}:{};return s.jsx(P,{ref:l,...b.getStyles("section",{className:e,classNames:r,styles:o,style:a}),...j,...A,mod:[{striped:v||m,animated:m},d],__vars:{"--progress-section-width":`${n}%`,"--progress-section-color":D(c,y),"--progress-label-color":I(b.autoContrast,y)?B({color:c,theme:y,autoContrast:b.autoContrast}):void 0}})});f.classes=p;f.displayName="@mantine/core/ProgressSection";const K={},x=u((t,l)=>{const r=h("Progress",K,t),{value:e,classNames:a,styles:o,vars:g,color:n,striped:i,animated:c,"aria-label":v,...m}=r,{resolvedClassNames:d,resolvedStyles:j}=z({classNames:a,styles:o,props:r});return s.jsx(N,{ref:l,classNames:d,styles:j,vars:g,...m,children:s.jsx(f,{value:e,color:n,striped:i,animated:c,"aria-label":v})})});x.classes=p;x.displayName="@mantine/core/Progress";x.Section=f;x.Root=N;x.Label=R;const es=({product:t})=>{const l=e=>e/t.numReviews*100,r=t.reviews.reduce((e,a)=>{const{rating:o}=a;return e[o]||(e[o]=0),e[o]++,e},{});return s.jsxs("div",{id:"ratings_reviews",className:"",children:[s.jsxs("h2",{className:"flex items-center gap-2 text-base font-bold",children:["RATINGS ",s.jsx(L,{size:20})]}),t.numReviews>0?s.jsxs("div",{className:"flex items-center gap-x-4 py-2 sm:gap-x-2",children:[s.jsxs("span",{className:"flex items-center text-6xl sm:text-4xl",children:[t.rating.toFixed(1)," ",s.jsx(w,{size:30,className:"ml-1",color:"#FF3E6B"})," "]}),s.jsx(F,{orientation:"vertical",className:"h-28"}),s.jsx("div",{children:[5,4,3,2,1].map(e=>s.jsxs("div",{className:"flex items-center gap-x-2 mb-0",children:[s.jsxs("span",{className:"flex items-center gap-x-1 text-[#BDBDBD] text-sm",children:[e," ",s.jsx(w,{color:"#BDBDBD"})]}),s.jsx(x,{style:{height:"4px"},color:e===5?"green":e===4?"yellow":e===3?"orange":e===2?"gray":"red",value:l(r[e]||0),className:"w-80 md:w-56 sm:w-36"}),s.jsx("p",{className:"text-sm",children:r[e]||0})]},e))})]}):s.jsx("p",{className:"text-sm font-bold",children:"Not Rated"})]})},ts=({product:t})=>{const r=_().pathname.endsWith("all-reviews"),e=r?[...t.reviews].sort((a,o)=>new Date(o.createdAt)-new Date(a.createdAt)):[...t.reviews].sort((a,o)=>new Date(o.createdAt)-new Date(a.createdAt)).slice(0,3);return s.jsxs("div",{className:" w-full",children:[s.jsxs("h2",{className:"flex items-center gap-2 text-base font-bold",children:["Customer Reviews (",t.numReviews,")"]}),t.numReviews>0?s.jsxs("div",{className:"mt-2",children:[e.map(a=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-baseline gap-x-4 ",children:[s.jsxs("div",{className:`flex items-center gap-x-1 py-0.5 px-1 rounded-sm  text-xs text-white ${a.rating>3?"bg-green-500":a.rating<3?"bg-red-600":"bg-gray-400"}`,children:[a.rating,s.jsx(w,{})]}),s.jsxs("div",{className:" flex flex-col gap-y-2",children:[s.jsx("p",{className:`font-light ${r?"line-clamp-none":"line-clamp-2"}`,children:a.comment}),s.jsxs("p",{className:"text-gray-600 text-sm flex gap-x-3",children:[s.jsx("span",{children:a.name})," |",s.jsx("span",{children:a.createdAt.slice(0,10)})]})]})]}),s.jsx("hr",{className:"h-px my-3 bg-gray-200 border-0 dark:bg-gray-300"})]},a._id)),t.numReviews>3&&!r&&s.jsxs($,{to:`/product/${t._id}/all-reviews`,className:"text-sm text-[#FF3E6B] font-bold",children:["Show all ",t.numReviews," reviews"," "]})]}):s.jsx("p",{className:"text-sm font-bold",children:"No Reviews Available"})]})};export{es as P,ts as a};
